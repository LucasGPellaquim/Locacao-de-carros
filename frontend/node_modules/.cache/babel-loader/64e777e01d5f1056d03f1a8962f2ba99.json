{"remainingRequest":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/babel-loader/lib/index.js!/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lucas/Desktop/avaliacao-dev/frontend/src/components/shared/Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/src/components/shared/Upload.vue","mtime":1549496620216},{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1549495916544},{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/babel-loader/lib/index.js","mtime":1549495890912},{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1549495916544},{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/vue-loader/lib/index.js","mtime":1549495918081}],"contextDependencies":[],"result":["import _parseInt from \"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\n//\n//\n//\n//\n//\nexport default {\n  name: \"upload\",\n  data: function data() {\n    return {\n      meses: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez']\n    };\n  },\n  methods: {\n    verificarArquivo: function verificarArquivo(event) {\n      var _this = this;\n\n      var file = event.target.files[0];\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        return _this.formatarTextoArquivo(e.target.result);\n      };\n\n      reader.readAsText(file);\n    },\n    formatarTextoArquivo: function formatarTextoArquivo(textoArquivo) {\n      var indiceTipoCarro = textoArquivo.indexOf(\":\");\n\n      var indiceQuantidadePassageiros = _parseInt(textoArquivo.indexOf(\":\", indiceTipoCarro + 1));\n\n      var intervaloDatas = textoArquivo.substring(indiceQuantidadePassageiros + 1);\n      this.formatarDatas(intervaloDatas);\n      var textoFormatado = {\n        tipoCarro: textoArquivo.substring(0, indiceTipoCarro),\n        quantidadePassageiros: textoArquivo.substring(indiceTipoCarro + 1, indiceQuantidadePassageiros),\n        intervaloData: this.formatarDatas(intervaloDatas)\n      };\n      this.$store.dispatch('armazenarTextoArquivo', textoFormatado);\n    },\n    formatarDatas: function formatarDatas(intervaloDatas) {\n      var primeiraData = new Date(intervaloDatas.substring(5, 9), this.meses.indexOf(intervaloDatas.substring(2, 5)) + 1, intervaloDatas.substring(0, 2));\n      var indiceUltimaVirgula = intervaloDatas.lastIndexOf(\",\");\n      var ultimaData = new Date(intervaloDatas.substring(indiceUltimaVirgula + 7, indiceUltimaVirgula + 11), this.meses.indexOf(intervaloDatas.substring(indiceUltimaVirgula + 4, indiceUltimaVirgula + 7)) + 1, intervaloDatas.substring(indiceUltimaVirgula + 2, indiceUltimaVirgula + 4));\n      return [primeiraData, ultimaData];\n    }\n  }\n};",{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;AAMA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,CAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,KADA,EACA;AAAA;;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AAEA,MAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA;AAAA,eAAA,KAAA,CAAA,oBAAA,CAAA,CAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AAAA,OAAA;;AACA,MAAA,MAAA,CAAA,UAAA,CAAA,IAAA;AACA,KAPA;AAQA,IAAA,oBARA,gCAQA,YARA,EAQA;AACA,UAAA,eAAA,GAAA,YAAA,CAAA,OAAA,CAAA,GAAA,CAAA;;AACA,UAAA,2BAAA,GAAA,UAAA,YAAA,CAAA,OAAA,CAAA,GAAA,EAAA,eAAA,GAAA,CAAA,CAAA,CAAA;;AACA,UAAA,cAAA,GAAA,YAAA,CAAA,SAAA,CAAA,2BAAA,GAAA,CAAA,CAAA;AACA,WAAA,aAAA,CAAA,cAAA;AAEA,UAAA,cAAA,GAAA;AACA,QAAA,SAAA,EAAA,YAAA,CAAA,SAAA,CAAA,CAAA,EAAA,eAAA,CADA;AAEA,QAAA,qBAAA,EAAA,YAAA,CAAA,SAAA,CAAA,eAAA,GAAA,CAAA,EAAA,2BAAA,CAFA;AAGA,QAAA,aAAA,EAAA,KAAA,aAAA,CAAA,cAAA;AAHA,OAAA;AAMA,WAAA,MAAA,CAAA,QAAA,CAAA,uBAAA,EAAA,cAAA;AACA,KArBA;AAsBA,IAAA,aAtBA,yBAsBA,cAtBA,EAsBA;AACA,UAAA,YAAA,GAAA,IAAA,IAAA,CAAA,cAAA,CAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EACA,KAAA,KAAA,CAAA,OAAA,CAAA,cAAA,CAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CADA,EAEA,cAAA,CAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAFA,CAAA;AAIA,UAAA,mBAAA,GAAA,cAAA,CAAA,WAAA,CAAA,GAAA,CAAA;AAEA,UAAA,UAAA,GAAA,IAAA,IAAA,CAAA,cAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,CAAA,EAAA,mBAAA,GAAA,EAAA,CAAA,EACA,KAAA,KAAA,CAAA,OAAA,CAAA,cAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,CAAA,EAAA,mBAAA,GAAA,CAAA,CAAA,IAAA,CADA,EAEA,cAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,CAAA,EAAA,mBAAA,GAAA,CAAA,CAFA,CAAA;AAIA,aAAA,CAAA,YAAA,EAAA,UAAA,CAAA;AACA;AAlCA;AAPA,CAAA","sourcesContent":["<template lang=\"pug\">\n    #upload\n        input(type=\"file\" accept='text/plain' @change=\"verificarArquivo\")\n</template>\n\n<script>\nexport default {\n    name: \"upload\",\n    data() {\n        return {\n            meses: [ 'Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez' ]\n        }\n    },\n    methods: {\n        verificarArquivo(event){\n            const file = event.target.files[0];\n            const reader = new FileReader();\n\n            reader.onload = e => this.formatarTextoArquivo(e.target.result);\n            reader.readAsText(file);\n        },\n        formatarTextoArquivo(textoArquivo) {\n            let indiceTipoCarro = textoArquivo.indexOf(\":\");\n            let indiceQuantidadePassageiros = parseInt(textoArquivo.indexOf(\":\", indiceTipoCarro + 1));\n            let intervaloDatas = textoArquivo.substring(indiceQuantidadePassageiros + 1);\n            this.formatarDatas(intervaloDatas);\n\n            let textoFormatado = {\n                tipoCarro: textoArquivo.substring(0, indiceTipoCarro),\n                quantidadePassageiros: textoArquivo.substring(indiceTipoCarro + 1, indiceQuantidadePassageiros),\n                intervaloData: this.formatarDatas(intervaloDatas)\n            };\n\n            this.$store.dispatch('armazenarTextoArquivo', textoFormatado);\n        },\n        formatarDatas(intervaloDatas) {\n            let primeiraData = new Date(intervaloDatas.substring(5, 9), \n                this.meses.indexOf(intervaloDatas.substring(2, 5)) + 1, \n                intervaloDatas.substring(0, 2));\n            \n            let indiceUltimaVirgula = intervaloDatas.lastIndexOf(\",\");\n            \n            let ultimaData = new Date(intervaloDatas.substring(indiceUltimaVirgula + 7, indiceUltimaVirgula + 11), \n                this.meses.indexOf(intervaloDatas.substring(indiceUltimaVirgula + 4, indiceUltimaVirgula + 7)) + 1, \n                intervaloDatas.substring(indiceUltimaVirgula + 2, indiceUltimaVirgula + 4));\n\n            return [ primeiraData, ultimaData ];\n        }\n\n    }\n}\n</script>\n\n<style scoped>\n    #upload {\n        margin-top: 20px;\n    }\n</style>\n"],"sourceRoot":"src/components/shared"}]}