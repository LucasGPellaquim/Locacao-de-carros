{"remainingRequest":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lucas/Desktop/avaliacao-dev/frontend/src/components/shared/Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/src/components/shared/Upload.vue","mtime":1549496620216},{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1549495916544},{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/babel-loader/lib/index.js","mtime":1549495890912},{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1549495916544},{"path":"/home/lucas/Desktop/avaliacao-dev/frontend/node_modules/vue-loader/lib/index.js","mtime":1549495918081}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n\nexport default {\n    name: \"upload\",\n    data() {\n        return {\n            meses: [ 'Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez' ]\n        }\n    },\n    methods: {\n        verificarArquivo(event){\n            const file = event.target.files[0];\n            const reader = new FileReader();\n\n            reader.onload = e => this.formatarTextoArquivo(e.target.result);\n            reader.readAsText(file);\n        },\n        formatarTextoArquivo(textoArquivo) {\n            let indiceTipoCarro = textoArquivo.indexOf(\":\");\n            let indiceQuantidadePassageiros = parseInt(textoArquivo.indexOf(\":\", indiceTipoCarro + 1));\n            let intervaloDatas = textoArquivo.substring(indiceQuantidadePassageiros + 1);\n            this.formatarDatas(intervaloDatas);\n\n            let textoFormatado = {\n                tipoCarro: textoArquivo.substring(0, indiceTipoCarro),\n                quantidadePassageiros: textoArquivo.substring(indiceTipoCarro + 1, indiceQuantidadePassageiros),\n                intervaloData: this.formatarDatas(intervaloDatas)\n            };\n\n            this.$store.dispatch('armazenarTextoArquivo', textoFormatado);\n        },\n        formatarDatas(intervaloDatas) {\n            let primeiraData = new Date(intervaloDatas.substring(5, 9), \n                this.meses.indexOf(intervaloDatas.substring(2, 5)) + 1, \n                intervaloDatas.substring(0, 2));\n            \n            let indiceUltimaVirgula = intervaloDatas.lastIndexOf(\",\");\n            \n            let ultimaData = new Date(intervaloDatas.substring(indiceUltimaVirgula + 7, indiceUltimaVirgula + 11), \n                this.meses.indexOf(intervaloDatas.substring(indiceUltimaVirgula + 4, indiceUltimaVirgula + 7)) + 1, \n                intervaloDatas.substring(indiceUltimaVirgula + 2, indiceUltimaVirgula + 4));\n\n            return [ primeiraData, ultimaData ];\n        }\n\n    }\n}\n",{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Upload.vue","sourceRoot":"src/components/shared","sourcesContent":["<template lang=\"pug\">\n    #upload\n        input(type=\"file\" accept='text/plain' @change=\"verificarArquivo\")\n</template>\n\n<script>\nexport default {\n    name: \"upload\",\n    data() {\n        return {\n            meses: [ 'Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez' ]\n        }\n    },\n    methods: {\n        verificarArquivo(event){\n            const file = event.target.files[0];\n            const reader = new FileReader();\n\n            reader.onload = e => this.formatarTextoArquivo(e.target.result);\n            reader.readAsText(file);\n        },\n        formatarTextoArquivo(textoArquivo) {\n            let indiceTipoCarro = textoArquivo.indexOf(\":\");\n            let indiceQuantidadePassageiros = parseInt(textoArquivo.indexOf(\":\", indiceTipoCarro + 1));\n            let intervaloDatas = textoArquivo.substring(indiceQuantidadePassageiros + 1);\n            this.formatarDatas(intervaloDatas);\n\n            let textoFormatado = {\n                tipoCarro: textoArquivo.substring(0, indiceTipoCarro),\n                quantidadePassageiros: textoArquivo.substring(indiceTipoCarro + 1, indiceQuantidadePassageiros),\n                intervaloData: this.formatarDatas(intervaloDatas)\n            };\n\n            this.$store.dispatch('armazenarTextoArquivo', textoFormatado);\n        },\n        formatarDatas(intervaloDatas) {\n            let primeiraData = new Date(intervaloDatas.substring(5, 9), \n                this.meses.indexOf(intervaloDatas.substring(2, 5)) + 1, \n                intervaloDatas.substring(0, 2));\n            \n            let indiceUltimaVirgula = intervaloDatas.lastIndexOf(\",\");\n            \n            let ultimaData = new Date(intervaloDatas.substring(indiceUltimaVirgula + 7, indiceUltimaVirgula + 11), \n                this.meses.indexOf(intervaloDatas.substring(indiceUltimaVirgula + 4, indiceUltimaVirgula + 7)) + 1, \n                intervaloDatas.substring(indiceUltimaVirgula + 2, indiceUltimaVirgula + 4));\n\n            return [ primeiraData, ultimaData ];\n        }\n\n    }\n}\n</script>\n\n<style scoped>\n    #upload {\n        margin-top: 20px;\n    }\n</style>\n"]}]}